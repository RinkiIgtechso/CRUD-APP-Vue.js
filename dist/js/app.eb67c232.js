(function(){"use strict";var t={6360:function(t,e,o){var n=o(9242),l=o(3396);function d(t,e){const o=(0,l.up)("router-view");return(0,l.wg)(),(0,l.j4)(o)}var i=o(89);const a={},r=(0,i.Z)(a,[["render",d]]);var c=r,u=o(2483);const s={key:0};function p(t,e,o,n,d,i){const a=(0,l.up)("router-link"),r=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)(l.HY,null,[i.isAuthenticated?((0,l.wg)(),(0,l.iD)("nav",s,[(0,l.Wm)(a,{to:"/home"},{default:(0,l.w5)((()=>[(0,l.Uk)("Home")])),_:1}),(0,l.Wm)(a,{to:"/about"},{default:(0,l.w5)((()=>[(0,l.Uk)("About")])),_:1}),(0,l._)("div",{class:"logout",onClick:e[0]||(e[0]=(...t)=>i.logout&&i.logout(...t))},"Logout")])):(0,l.kq)("",!0),(0,l.Wm)(r)],64)}o(560);var m=o(5498),h=o(1076);const v=(0,m.Q_)("products",{state:()=>({isAuthenticated:!1,products:[],product:{}}),actions:{login(){this.isAuthenticated=!0},logout(){this.isAuthenticated=!1},async fetchProducts(){try{let t=await h.Z.get("http://localhost:3000/products"),e=t.data;this.products=e}catch(t){console.log(t)}},async fetchProductById(t){try{let e=await h.Z.get(`http://localhost:3000/products/${t}`),o=e.data;this.product=o}catch(e){console.log(e)}},async updateProduct(t,e){try{let o=await h.Z.put(`http://localhost:3000/products/${t}`,e);console.log(o)}catch(o){console.log(o)}},async deleteProductById(t){try{let e=await h.Z.delete(`http://localhost:3000/products/${t}`);console.log(e)}catch(e){console.log(e)}},async addProduct(t){try{let e=await h.Z.post("http://localhost:3000/products",t);console.log(e)}catch(e){console.log(e)}}}});var f={name:"Layout",setup(){const t=v();return{useProducts:t}},computed:{isAuthenticated(){return v().isAuthenticated}},methods:{logout(){this.useProducts.logout(),this.$router.push("/")}}};const _=(0,i.Z)(f,[["render",p]]);var y=_,b=o(7139);const g=t=>((0,l.dD)("data-v-4bb4ae7a"),t=t(),(0,l.Cn)(),t),w={class:"homepage"},M={class:"addProduct"},k=g((()=>(0,l._)("span",null,"+",-1))),P={class:"home"},C=["src","alt"],x={class:"pricing"},D={class:"pricing bttns"},E=["onClick"],O=["onClick"];function I(t,e,o,n,d,i){const a=(0,l.up)("Modal"),r=(0,l.up)("DeleteModal"),c=(0,l.up)("AddModal");return(0,l.wg)(),(0,l.iD)("div",w,[(0,l._)("div",M,[(0,l._)("button",{onClick:e[0]||(e[0]=(...t)=>i.editModals&&i.editModals(...t))},[k,(0,l.Uk)(" Add Product")])]),(0,l._)("div",P,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.products,(t=>((0,l.wg)(),(0,l.iD)("div",{class:"card",key:t.name},[(0,l._)("div",null,[(0,l._)("img",{src:t.image,alt:t.name},null,8,C)]),(0,l._)("p",null,[(0,l._)("b",null,(0,b.zw)(t.name),1)]),(0,l._)("p",null,(0,b.zw)(t.title),1),(0,l._)("div",x,[(0,l._)("p",null,"$"+(0,b.zw)(t.price),1),(0,l._)("p",null,(0,b.zw)(t.discount)+"% discount",1)]),(0,l._)("div",D,[(0,l._)("button",{onClick:e=>i.openModal(t.id)},"Edit",8,E),(0,l._)("button",{onClick:e=>i.deleteModal(t.id)},"Delete",8,O)])])))),128)),(0,l.Wm)(a,{isOpen:d.isModalOpen,onClose:i.closeModal,index:d.selectedModalIndex},null,8,["isOpen","onClose","index"]),(0,l.Wm)(r,{isDelete:d.isDelete,onClose:i.closeModal,index:d.selectedModalIndex},null,8,["isDelete","onClose","index"]),(0,l.Wm)(c,{isEdit:d.isEdit,onClose:i.closeModal},null,8,["isEdit","onClose"])])])}const U=t=>((0,l.dD)("data-v-5990877e"),t=t(),(0,l.Cn)(),t),A={class:"closeBtn"},S=U((()=>(0,l._)("p",null,"Edit the product details",-1))),V=U((()=>(0,l._)("input",{type:"submit",value:"SUBMIT"},null,-1)));function Z(t,e,o,d,i,a){return o.isOpen?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"modal-overlay",onClick:e[8]||(e[8]=(0,n.iM)((t=>d.closeModal()),["self"]))},[(0,l._)("div",{class:"modal",onClick:e[7]||(e[7]=(0,n.iM)((()=>{}),["stop"]))},[(0,l._)("div",A,[(0,l._)("button",{onClick:e[0]||(e[0]=t=>d.closeModal())},"X")]),S,(0,l._)("div",null,[(0,l._)("form",{onSubmit:e[6]||(e[6]=(0,n.iM)(((...t)=>d.onSubmit&&d.onSubmit(...t)),["prevent"]))},[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>d.product.image=t)},null,512),[[n.nr,d.product.image]]),(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>d.product.name=t)},null,512),[[n.nr,d.product.name]]),(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>d.product.title=t)},null,512),[[n.nr,d.product.title]]),(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=t=>d.product.price=t)},null,512),[[n.nr,d.product.price]]),(0,l.wy)((0,l._)("input",{type:"number","onUpdate:modelValue":e[5]||(e[5]=t=>d.product.discount=t)},null,512),[[n.nr,d.product.discount]]),V],32)])])])):(0,l.kq)("",!0)}var q=o(4870),B={name:"Modal",props:["isOpen","index"],setup(t,{emit:e}){const{fetchProducts:o,fetchProductById:n,updateProduct:d}=v(),i=(0,q.iH)({image:"",name:"",title:"",price:"",discount:""});(0,l.YP)((()=>t.isOpen),(async(t,e)=>{t&&await a()}));const a=async()=>{try{const e=t.index;await n(e);const o=v().product;i.value={image:o.image||"",name:o.name||"",title:o.title||"",price:o.price||"",discount:o.discount||""}}catch(e){console.error("Error fetching product details:",e)}},r=async()=>{try{const e=t.index,n={...i.value};await d(e,n),o(),c()}catch(e){console.error("Error updating product:",e)}},c=()=>{e("close")};return{product:i,onSubmit:r,closeModal:c}}};const j=(0,i.Z)(B,[["render",Z],["__scopeId","data-v-5990877e"]]);var W=j;const T=t=>((0,l.dD)("data-v-7bbb691e"),t=t(),(0,l.Cn)(),t),H={class:"closeBtn"},$=T((()=>(0,l._)("p",null,"Edit the product details",-1))),z=T((()=>(0,l._)("input",{type:"submit",value:"SUBMIT"},null,-1)));function L(t,e,o,d,i,a){return o.isEdit?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"modal-overlay",onClick:e[8]||(e[8]=(0,n.iM)((t=>d.closeModal()),["self"]))},[(0,l._)("div",{class:"modal",onClick:e[7]||(e[7]=(0,n.iM)((()=>{}),["stop"]))},[(0,l._)("div",H,[(0,l._)("button",{onClick:e[0]||(e[0]=t=>d.closeModal())},"X")]),$,(0,l._)("div",null,[(0,l._)("form",{onSubmit:e[6]||(e[6]=(0,n.iM)(((...t)=>d.onSubmit&&d.onSubmit(...t)),["prevent"]))},[(0,l.wy)((0,l._)("input",{type:"text",placeholder:"Enter URL of image","onUpdate:modelValue":e[1]||(e[1]=t=>d.product.image=t),required:""},null,512),[[n.nr,d.product.image]]),(0,l.wy)((0,l._)("input",{type:"text",placeholder:"Enter the name","onUpdate:modelValue":e[2]||(e[2]=t=>d.product.name=t),required:""},null,512),[[n.nr,d.product.name]]),(0,l.wy)((0,l._)("input",{type:"text",placeholder:"Enter the title","onUpdate:modelValue":e[3]||(e[3]=t=>d.product.title=t),required:""},null,512),[[n.nr,d.product.title]]),(0,l.wy)((0,l._)("input",{type:"text",placeholder:"Enter the price","onUpdate:modelValue":e[4]||(e[4]=t=>d.product.price=t),required:""},null,512),[[n.nr,d.product.price]]),(0,l.wy)((0,l._)("input",{type:"number",placeholder:"Enter the discount","onUpdate:modelValue":e[5]||(e[5]=t=>d.product.discount=t),required:""},null,512),[[n.nr,d.product.discount]]),z],32)])])])):(0,l.kq)("",!0)}var Y={name:"AddModal",props:["isEdit"],setup(t,{emit:e}){const{fetchProducts:o,addProduct:n}=v(),l=(0,q.iH)({image:"",name:"",title:"",price:"",discount:""}),d=async()=>{try{const t={...l.value};await n(t),await o(),i()}catch(t){console.log(t)}},i=()=>{e("close")};return{product:l,onSubmit:d,closeModal:i}}};const X=(0,i.Z)(Y,[["render",L],["__scopeId","data-v-7bbb691e"]]);var F=X;const G=t=>((0,l.dD)("data-v-493fe172"),t=t(),(0,l.Cn)(),t),J={class:"closeBtn"},K=G((()=>(0,l._)("p",null,"Are you sure?",-1))),N={class:"bttns"};function Q(t,e,o,d,i,a){return o.isDelete?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"modal-overlay",onClick:e[4]||(e[4]=(0,n.iM)((t=>d.closeModal()),["self"]))},[(0,l._)("div",{class:"modal",onClick:e[3]||(e[3]=(0,n.iM)((()=>{}),["stop"]))},[(0,l._)("div",J,[(0,l._)("button",{onClick:e[0]||(e[0]=t=>d.closeModal())},"X")]),K,(0,l._)("div",N,[(0,l._)("button",{onClick:e[1]||(e[1]=t=>d.deleteProduct())},"Yes"),(0,l._)("button",{onClick:e[2]||(e[2]=t=>d.closeModal())},"No")])])])):(0,l.kq)("",!0)}var R={name:"DeleteModal",props:["isDelete","index"],setup(t,{emit:e}){const{fetchProducts:o,deleteProductById:n}=v(),l=async()=>{try{const e=t.index;await n(e),o(),d()}catch(e){console.log(e)}},d=()=>{e("close")};return{closeModal:d,deleteProduct:l}}};const tt=(0,i.Z)(R,[["render",Q],["__scopeId","data-v-493fe172"]]);var et=tt,ot={name:"HomeView",components:{Modal:W,AddModal:F,DeleteModal:et},data(){const{fetchProducts:t,fetchProductById:e}=v();return{isModalOpen:!1,selectedModalIndex:null,isDelete:!1,isEdit:!1,fetchProducts:t,fetchProductById:e}},computed:{products(){return v().products}},mounted(){this.fetchProducts()},methods:{openModal(t){this.selectedModalIndex=t,this.isModalOpen=!0},editModals(){this.isEdit=!0},deleteModal(t){this.isDelete=!0,this.selectedModalIndex=t},closeModal(){this.isModalOpen=!1,this.isDelete=!1,this.isEdit=!1}}};const nt=(0,i.Z)(ot,[["render",I],["__scopeId","data-v-4bb4ae7a"]]);var lt=nt;const dt=t=>((0,l.dD)("data-v-3d816aa1"),t=t(),(0,l.Cn)(),t),it={class:"about"},at=dt((()=>(0,l._)("h1",null,"What! There is nothing to check about",-1))),rt=dt((()=>(0,l._)("h3",null,"Just GO back",-1))),ct=[at,rt];function ut(t,e,o,n,d,i){return(0,l.wg)(),(0,l.iD)("div",it,ct)}var st={name:"AboutView"};const pt=(0,i.Z)(st,[["render",ut],["__scopeId","data-v-3d816aa1"]]);var mt=pt;const ht=t=>((0,l.dD)("data-v-15872777"),t=t(),(0,l.Cn)(),t),vt={class:"login"},ft={class:"form-section"},_t={class:"input-box"},yt=ht((()=>(0,l._)("label",{for:"email"},"Email:",-1))),bt=ht((()=>(0,l._)("br",null,null,-1))),gt={class:"input-box"},wt=ht((()=>(0,l._)("label",{for:"password"},"Password:",-1))),Mt=ht((()=>(0,l._)("br",null,null,-1))),kt=["disabled"];function Pt(t,e,o,d,i,a){return(0,l.wg)(),(0,l.iD)("div",vt,[(0,l._)("div",ft,[(0,l._)("form",{onSubmit:e[2]||(e[2]=(0,n.iM)(((...t)=>a.login&&a.login(...t)),["prevent"]))},[(0,l._)("div",_t,[yt,bt,(0,l.wy)((0,l._)("input",{id:"email",type:"email",placeholder:"Enter Email","onUpdate:modelValue":e[0]||(e[0]=t=>i.email=t)},null,512),[[n.nr,i.email]])]),(0,l._)("div",gt,[wt,Mt,(0,l.wy)((0,l._)("input",{id:"password",type:"password",placeholder:"Enter Password","onUpdate:modelValue":e[1]||(e[1]=t=>i.password=t)},null,512),[[n.nr,i.password]])]),(0,l._)("button",{disabled:!i.email&&!i.password,type:"submit"},"Submit",8,kt)],32)])])}var Ct={name:"Login",setup(){const t=v();return{useProducts:t}},data(){return{email:"",password:""}},methods:{async login(){this.useProducts.login(),this.$router.push("/home")}}};const xt=(0,i.Z)(Ct,[["render",Pt],["__scopeId","data-v-15872777"]]);var Dt=xt;const Et=[{path:"/",component:y,children:[{path:"",component:Dt},{path:"home",component:lt,meta:{requiresAuth:!0}},{path:"about",component:mt,meta:{requiresAuth:!0}}]}],Ot=(0,u.p7)({history:(0,u.r5)(),routes:Et});Ot.beforeEach(((t,e,o)=>{const{isAuthenticated:n}=v();t.meta.requiresAuth&&!n?o("/"):o()}));var It=Ot;const Ut=(0,m.WB)();(0,n.ri)(c).use(It).use(Ut).mount("#app")}},e={};function o(n){var l=e[n];if(void 0!==l)return l.exports;var d=e[n]={exports:{}};return t[n].call(d.exports,d,d.exports,o),d.exports}o.m=t,function(){var t=[];o.O=function(e,n,l,d){if(!n){var i=1/0;for(u=0;u<t.length;u++){n=t[u][0],l=t[u][1],d=t[u][2];for(var a=!0,r=0;r<n.length;r++)(!1&d||i>=d)&&Object.keys(o.O).every((function(t){return o.O[t](n[r])}))?n.splice(r--,1):(a=!1,d<i&&(i=d));if(a){t.splice(u--,1);var c=l();void 0!==c&&(e=c)}}return e}d=d||0;for(var u=t.length;u>0&&t[u-1][2]>d;u--)t[u]=t[u-1];t[u]=[n,l,d]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var l,d,i=n[0],a=n[1],r=n[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(l in a)o.o(a,l)&&(o.m[l]=a[l]);if(r)var u=r(o)}for(e&&e(n);c<i.length;c++)d=i[c],o.o(t,d)&&t[d]&&t[d][0](),t[d]=0;return o.O(u)},n=self["webpackChunkcrud_app"]=self["webpackChunkcrud_app"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(6360)}));n=o.O(n)})();
//# sourceMappingURL=app.eb67c232.js.map